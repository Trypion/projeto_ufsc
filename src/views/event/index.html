{% extends 'index.html' %} {% block header %}
<h1>{% block title %}Profiles{% endblock %}</h1>
{% endblock %} {% block content %}
<br />

<h3>Criar Event</h3>

<!--name: str, email: str, sex: str, age: int, university: University, profile_picture: str, university_register: str, course: Course, ranking: int, user: User) -->


<form class="create-form">
<div class="input-group mb-3">
  <span class="input-group-text">Nome</span>
  <input name="name" type="text" class="form-control" placeholder="nome" aria-label="nome" />
  <span class="input-group-text">Email</span>
  <input name="email" type="text" class="form-control" placeholder="email" aria-label="email" />
  <span class="input-group-text">Sexo</span>
  <input name="sex" type="text" class="form-control" placeholder="Sexo" aria-label="Sexo" />
  <span class="input-group-text">Idade</span>
  <input name="age" type="number" class="form-control" placeholder="Idade" aria-label="Idade" />
  <span class="input-group-text">Universidade</span>
  <select name="university" class="form-select">
    {% for item in universities %}
    <!-- Utilizando Jinja Python-->
    <option value="{{ item.id }}">{{ item.name }}</option>
    {% endfor %}
  </select>

</div>

<div class="input-group mb-3">
  <span class="input-group-text">Foto de Perfil</span>
  <input name="profile_picture" type="text" class="form-control" placeholder="Foto de Perfil"
    aria-label="Foto de Perfil" />
  <span class="input-group-text">Matricula Universidade</span>
  <input name="university_register" type="text" class="form-control" placeholder="Matricula Universidade"
  aria-label="Matricula Universidade" />
  <span class="input-group-text">Curso</span>
  <select name="course" class="form-select">
    {% for item in courses %}
    <!-- Utilizando Jinja Python-->
    <option value="{{ item.id }}">{{ item.name }}</option>
    {% endfor %}
  </select>
  <span class="input-group-text">Ranking</span>
  <input name="ranking" type="number" class="form-control" placeholder="ranking" aria-label="ranking" />
  <button type="button" class="me-2 btn btn-primary" onclick="create()">
    criar
  </button>
</div>
</form>

<table class="table" id="universities">
  <thead>
    <tr>
      <th scope="col">Nome</th>
      <th scope="col">Universidade</th>
      <th scope="col">Ranking</th>
      <th scope="col">Criado por</th>
      <th scope="col">Criado em</th>
      <th scope="col">Atualizado por</th>
      <th scope="col">Atualizado em</th>
      <th scope="col"></th>
      <th scope="col"></th>
      <th scope="col"></th>
    </tr>
  </thead>
  <tbody>
    {% for item in courses %}
    <tr>
      <form class="form{{item.id}}">
        <div class="input-group mb-3">
          <th scope="row">
            <input name="id" value="{{ item.id }}" hidden />
            <input name="name" value="{{ item.name }}" id="nome{{ item.id }}" disabled type="text"
              class="form-control {{ item.id }}" placeholder="nome" aria-label="nome" />
          </th>
          <th>
            <select name="university" disabled class="form-select {{ item.id }}" id="university{{ item.id }}">
              {% for university in universities %}
              {% if university.id == item.university.id %}
              <option value="{{ university.id }}" selected>{{ university.name }}</option>
              {% else %}
              <option value="{{ university.id }}">{{ university.name }}</option>
              {% endif %} {% endfor %}
            </select>
          </th>
          <th>
            <input name="ranking" value="{{ item.ranking }}" id="ranking{{ item.id }}" disabled type="number"
              class="form-control {{ item.id }}" placeholder="ranking" aria-label="ranking" />
          </th>
          <th>
            <input name="criado por" value="{{ item.created_by.login }}" disabled type="text" class="form-control"
              placeholder="criado por" />
          </th>
          <th>
            <input name="criado em" value="{{ item.created_at }}" disabled type="text" class="form-control"
              placeholder="criado em" />
          </th>
          <th>
            <input name="atualizado por" value="{{ item.updated_by.login }}" disabled type="text" class="form-control"
              placeholder="atualizado por" />
          </th>
          <th>
            <input name="atualizado em" value="{{ item.updated_at }}" disabled type="text" class="form-control"
              placeholder="atualizado em" />
          </th>
          <th>
            <button type="button" class="btn btn-primary"
              onclick="enableEditing('nome{{item.id}}','university{{item.id}}', 'ranking{{item.id}}')">
              editar
            </button>
          </th>
          <th>
            <button type="button" class="btn btn-success" onclick="save('{{item.id}}')">
              salvar
            </button>
          </th>
          <th>
            <button type="button" class="btn btn-danger" onclick="destroy('{{item.id}}')">
              deletar
            </button>
          </th>
        </div>
      </form>
      {% endfor %}
    </tr>
  </tbody>
</table>

<script src="{{ url_for('static', filename='scripts/profile.js') }}"></script>
{% endblock %}